var wsbundle=(()=>{function h(t,e){return Object.assign(Object.create(t.prototype),e)}var j=Symbol("force");function _(t){var e;function n(){return e||(e=t(o=>e=o)),e}return new Proxy(Function(),{get(o,u){return u==j&&n(),n()[u]},set(o,u,i){return n()[u]=i,!0},construct(o,u,i){return Reflect.construct(n(),u,i)}})}var v=[];function L(t){v.push(t)}function K(){for(var t=0;t<v.length;t++)v[t]();v=[]}function S(t){return"Dispose"in t}function tt(){globalThis.document.getElementById("toggle-theme").onclick=()=>{globalThis.document.documentElement.classList.toggle("dark")};let t=globalThis.document.getElementById("transaction-form");t.onsubmit=e=>{e.preventDefault();let n=u=>{let i=globalThis.document.getElementById(u);return g(i,null)?"":String(i.value)},r=yt(Number(n("amount")),n("description"),n("date"),n("category"),n("type")),o=ct(F(),x([r]));et(o),alert("Tranzakci\xF3 mentve!"),t.reset(),G(o)},globalThis.document.getElementById("export-csv").onclick=()=>nt(F()),G(F())}function F(){let t=globalThis.localStorage.getItem(V());if(t==null)return f.Empty;try{return mt(J())()(JSON.parse(t))}catch{return f.Empty}}function et(t){globalThis.localStorage.setItem(V(),JSON.stringify(dt(J())()(t)))}function G(t){let e=globalThis.Chart,n={responsive:!0},r=y(s=>[s[0],M(w=>w.amount,s[1])],q(s=>s.category,t)),o=m(y(s=>s[0],r)),u={data:{datasets:[{backgroundColor:["#3B82F6","#EF4444","#10B981","#F59E0B","#6366F1","#E11D48","#0D9488","#8B5CF6","#F97316","#22D3EE","#4ADE80","#A855F7"],data:m(y(s=>s[1],r)),label:"Kateg\xF3ri\xE1k"}],labels:o},options:n,type:"pie"};new e(globalThis.document.getElementById("category-chart"),u);let i=y(s=>[s[0],M(w=>w.txType=="Bev\xE9tel"?w.amount:-w.amount,s[1])],at(s=>s[0],q(s=>wt(s.date,0,7),t))),l=m(y(s=>s[0],i)),a={data:{datasets:[{backgroundColor:"#3B82F6",data:m(y(s=>s[1],i)),label:"Havi egyenleg"}],labels:l},options:n,type:"bar"};new e(globalThis.document.getElementById("monthly-chart"),a)}function nt(t){let e,n=new Blob(["\uFEFF"+gt(`
`,f.Cons("D\xE1tum,T\xEDpus,Kateg\xF3ria,\xD6sszeg,Le\xEDr\xE1s",y(u=>String(u.date)+","+String(u.txType)+","+String(u.category)+","+String(String(u.amount))+',"'+String(u.description)+'"',t)))],(e={},e.type="text/csv;charset=utf-8",e)),r=globalThis.URL.createObjectURL(n),o=globalThis.document.createElement("a");return o.href=r,o.download="riport.csv",o.click(),globalThis.URL.revokeObjectURL(r)}function V(){return Q.storageKey}function d(t){throw new Error(t)}function T(t){return[t.K,t.V]}function rt(t){let e=[],n;for(var r in t)e.push(t[r]);return e}function g(t,e){if(t===e)return!0;{let o=typeof t;if(o=="object"){if(t==null||e===null||e===void 0||!g(typeof e,"object"))return!1;if("Equals"in t)return t.Equals(e);if("Equals"in e)return!1;if(t instanceof Array&&e instanceof Array)return R(t,e);if(t instanceof Date&&e instanceof Date)return ot(t,e);{let u=[!0],i;for(var n in t)if((l=>(u[0]=!t.hasOwnProperty(l)||e.hasOwnProperty(l)&&g(t[l],e[l]),!u[0]))(n))break;if(u[0]){let l;for(var r in e)if((a=>(u[0]=!e.hasOwnProperty(a)||t.hasOwnProperty(a),!u[0]))(r))break}return u[0]}}else return o=="function"&&("$Func"in t?t.$Func===e.$Func&&t.$Target===e.$Target:"$Invokes"in t&&"$Invokes"in e&&R(t.$Invokes,e.$Invokes))}}function R(t,e){let n,r;if(c(t)===c(e)){for(n=!0,r=0;n&&r<c(t);)g(p(t,r),p(e,r))||(n=!1),r=r+1;return n}else return!1}function ot(t,e){return t.getTime()===e.getTime()}function E(t,e){if(t===e)return 0;{let o=typeof t;switch(o=="function"?1:o=="boolean"||o=="number"||o=="string"?2:o=="object"?3:0){case 0:return typeof e>"u"?0:-1;case 1:return d("Cannot compare function values.");case 2:return t<e?-1:1;case 3:if(t===null)return-1;if(e===null)return 1;if("CompareTo"in t)return t.CompareTo(e);if("CompareTo0"in t)return t.CompareTo0(e);if(t instanceof Array&&e instanceof Array)return ut(t,e);if(t instanceof Date&&e instanceof Date)return it(t,e);{let u=[0],i;for(var n in t)if((l=>t.hasOwnProperty(l)?e.hasOwnProperty(l)?(u[0]=E(t[l],e[l]),u[0]!==0):(u[0]=1,!0):!1)(n))break;if(u[0]===0){let l;for(var r in e)if((a=>e.hasOwnProperty(a)?!t.hasOwnProperty(a)&&(u[0]=-1,!0):!1)(r))break}return u[0]}break}}}function P(t){let e=typeof t;return e=="function"?0:e=="boolean"?t?1:0:e=="number"?t:e=="string"?W(t):e=="object"?t==null?0:t instanceof Array?st(t):lt(t):0}function ut(t,e){let n,r;if(c(t)<c(e))return-1;if(c(t)>c(e))return 1;for(n=0,r=0;n===0&&r<c(t);)n=E(p(t,r),p(e,r)),r=r+1;return n}function it(t,e){return E(t.getTime(),e.getTime())}function W(t){let e;if(t===null)return 0;e=5381;for(let n=0,r=t.length-1;n<=r;n++)e=C(e,t[n].charCodeAt());return e}function st(t){let e=-34948909;for(let n=0,r=c(t)-1;n<=r;n++)e=C(e,P(p(t,n)));return e}function lt(t){if("GetHashCode"in t)return t.GetHashCode();{let n=[0],r;for(var e in t)if((o=>(n[0]=C(C(n[0],W(o)),P(t[o])),!1))(e))break;return n[0]}}function C(t,e){return(t<<5)+t+e}function x(t){let e=f.Empty;for(let n=c(t)-1,r=0;n>=r;n--)e=f.Cons(p(t,n),e);return e}function ct(t,e){let n,r,o;if(t.$==0)return e;if(e.$==0)return t;{let u=h(f,{$:1});for(n=u,r=t,o=!0;o;)if(n.$0=r.$0,r=r.$1,r.$==0)o=!1;else{let i=h(f,{$:1});n=(n.$1=i,i)}return n.$1=e,u}}function q(t,e){let n=xt(t,m(e));return I(r=>[r[0],x(r[1])],n),x(n)}function y(t,e){let n,r,o;if(e.$==0)return e;{let u=h(f,{$:1});for(n=u,r=e,o=!0;o;)if(n.$0=t(r.$0),r=r.$1,r.$==0)o=!1;else{let i=h(f,{$:1});n=(n.$1=i,i)}return n.$1=f.Empty,u}}function at(t,e){let n=m(e);return vt(t,n),x(n)}function ft(t,e){return x(Tt(t,e))}function pt(t,e){let n=e;for(;n.$==1;)t(H(n)),n=U(n)}function H(t){return t.$==1?t.$0:X()}function U(t){return t.$==1?t.$1:X()}function X(){return d("The input list was empty.")}function p(t,e){return ht(t,e),t[e]}function c(t){return t.dims===2?t.length*t.length:t.length}function ht(t,e){(e<0||e>=t.length)&&d("Index was outside the bounds of the array.")}function yt(t,e,n,r,o){return{amount:t,description:e,date:n,category:r,txType:o}}var O=class{Equals(e){return this===e}GetHashCode(){return-1}},f=class t{static Empty=h(t,{$:0});static Cons(e,n){return h(t,{$:1,$0:e,$1:n})}GetEnumerator(){return new $(this,null,e=>{let n=e.s;return n.$==0?!1:(e.c=n.$0,e.s=n.$1,!0)},void 0)}};function mt(t){return()=>e=>{let n=t();return ft(c(e),r=>n(p(e,r)))}}function J(){return()=>t=>t}function dt(t){return()=>e=>{let n=[],r=t();return pt(o=>{n.push(r(o))},e),n}}function M(t,e){let n=0,r=B(e);try{for(;r.MoveNext();)n=n+t(r.Current)}finally{typeof r=="object"&&S(r)&&r.Dispose()}return n}function gt(t,e){return Y(e).join(t)}function wt(t,e,n){return t.substr(e,n)}var Q=_(t=>class{static{Q=t(this)}static storageKey;static{this.storageKey="transactions"}});function xt(t,e){let n=new N("New_5"),r=[];for(let o=0,u=c(e)-1;o<=u;o++){let i=e[o],l=t(i);n.ContainsKey(l)?n.Item(l).push(i):(r.push(l),n.DAdd(l,[i]))}return I(o=>[o,n.Item(o)],r),r}function I(t,e){for(let n=0,r=e.length-1;n<=r;n++)e[n]=t(e[n])}function $t(t,e){for(let n=0,r=e.length-1;n<=r;n++)e[n]=t(n,e[n]);return e}function m(t){let e=[],n=t;for(;n.$!=0;)e.push(H(n)),n=U(n);return e}function vt(t,e){I(n=>n[0],$t((n,r)=>[r,[t(r),n]],e).sort((n,r)=>E(n[1],r[1])))}function Tt(t,e){t<0&&d("Negative size given.");let n=new Array(t);for(let r=0,o=t-1;r<=o;r++)n[r]=e(r);return n}function Y(t){if(t instanceof Array)return t.slice();if(t instanceof f)return m(t);{let e=[],n=B(t);try{for(;n.MoveNext();)e.push(n.Current);return e}finally{typeof n=="object"&&S(n)&&n.Dispose()}}}function z(t,e){let n=!1,r=0;for(;!n&&r<c(e);)t(e[r])?n=!0:r=r+1;return n}function Ct(t,e){let n=Et(t,e);return n==null?d("KeyNotFoundException"):n.$0}function Ot(t,e){let n=null,r=0;for(;r<e.length&&n==null;)t(e[r])&&(n=k(r)),r=r+1;return n}function Et(t,e){let n=null,r=0;for(;r<e.length&&n==null;){let o=t(e[r]);o!=null&&o.$==1&&(n=o),r=r+1}return n}function Ft(t){return Array.prototype.concat.apply([],Y(t))}var N=class extends O{equals;hash;count;data;ContainsKey(e){let n=this.data[this.hash(e)];return n==null?!1:z(r=>this.equals.apply(null,[T(r)[0],e]),n)}Item(e){return this.get(e)}DAdd(e,n){this.add(e,n)}get(e){let n=this.data[this.hash(e)];return n==null?Nt():Ct(r=>{let o=T(r);return this.equals.apply(null,[o[0],e])?k(o[1]):null},n)}add(e,n){let r=this.hash(e),o=this.data[r];o==null?(this.count=this.count+1,this.data[r]=new Array({K:e,V:n})):(z(u=>this.equals.apply(null,[T(u)[0],e]),o)&&At(),this.count=this.count+1,o.push({K:e,V:n}))}set(e,n){let r=this.hash(e),o=this.data[r];if(o==null)this.count=this.count+1,this.data[r]=new Array({K:e,V:n});else{let u=Ot(i=>this.equals.apply(null,[T(i)[0],e]),o);u==null?(this.count=this.count+1,o.push({K:e,V:n})):o[u.$0]={K:e,V:n}}}GetEnumerator(){return Dt(Ft(rt(this.data)))}static New_5(){return new this("New_5")}static New_6(e,n,r){return new this("New_6",e,n,r)}constructor(e,n,r,o){if(e=="New_5"&&(e="New_6",n=[],r=g,o=P),e=="New_6"){let u=n,i=r,l=o;super(),this.equals=i,this.hash=l,this.count=0,this.data=[];let a=B(u);try{for(;a.MoveNext();){let s=a.Current;this.set(s.K,s.V)}}finally{typeof a=="object"&&S(a)&&a.Dispose()}}}};function Nt(){throw new A("New")}function At(){throw new D("New_2","An item with the same key has already been added.")}function B(t){return t instanceof Array?Z(t):g(typeof t,"string")?b(t):t.GetEnumerator()}function Z(t){return new $(0,null,e=>{let n=e.s;return n<c(t)&&(e.c=p(t,n),e.s=n+1,!0)},void 0)}function b(t){return new $(0,null,e=>{let n=e.s;return n<t.length&&(e.c=t[n],e.s=n+1,!0)},void 0)}function Dt(t){return t instanceof Array?Z(t):g(typeof t,"string")?b(t):"GetEnumerator0"in t?t.GetEnumerator0():t.GetEnumerator()}var $=class extends O{s;c;n;d;e;MoveNext(){let e=this.n(this);return this.e=e?1:2,e}get Current(){return this.e===1?this.c:this.e===0?d("Enumeration has not started. Call MoveNext."):d("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}constructor(e,n,r,o){super(),this.s=e,this.c=n,this.n=r,this.d=o,this.e=0}};function k(t){return{$:1,$0:t}}var A=class extends Error{static New(){return new this("New")}static New_1(e){return new this("New_1",e)}constructor(e,n){if(e=="New"&&(e="New_1",n="The given key was not present in the dictionary."),e=="New_1"){let r=n;super(r)}}},D=class extends Error{static New_2(e){return new this("New_2",e)}constructor(e,n){if(e=="New_2"){let r=n;super(r)}}};L(()=>{tt()});K();})();
