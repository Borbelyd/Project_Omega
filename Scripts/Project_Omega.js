var wsbundle=(()=>{function p(t,e){return Object.assign(Object.create(t.prototype),e)}var Z=Symbol("force");function B(t){var e;function n(){return e||(e=t(o=>e=o)),e}return new Proxy(Function(),{get(o,i){return i==Z&&n(),n()[i]},set(o,i,s){return n()[i]=s,!0},construct(o,i,s){return Reflect.construct(n(),i,s)}})}var C=[];function q(t){C.push(t)}function L(){for(var t=0;t<C.length;t++)C[t]();C=[]}function N(t){return"Dispose"in t}function tt(){globalThis.document.getElementById("toggle-theme").onclick=()=>{globalThis.document.documentElement.classList.toggle("dark")};let t=globalThis.document.getElementById("transaction-form");t.onsubmit=e=>{e.preventDefault();let n=i=>{let s=globalThis.document.getElementById(i);return m(s,null)?"":String(s.value)},r=yt(Number(n("amount")),n("description"),n("date"),n("category"),n("type")),o=lt(O(),$([r]));et(o),alert("Tranzakci\xF3 mentve!"),t.reset(),k(o)},globalThis.document.getElementById("export-csv").onclick=()=>nt(O()),k(O())}function O(){let t=globalThis.localStorage.getItem(R());if(t==null)return f.Empty;try{return dt(z())()(JSON.parse(t))}catch{return f.Empty}}function et(t){globalThis.localStorage.setItem(R(),JSON.stringify(gt(z())()(t)))}function k(t){let e=globalThis.Chart,n={responsive:!0},r=y(u=>[u[0],G(w=>w.amount,u[1])],_(u=>u.category,t)),o=d(y(u=>u[0],r)),i={data:{datasets:[{backgroundColor:["#3B82F6","#EF4444","#10B981","#F59E0B","#6366F1","#E11D48","#0D9488","#8B5CF6","#F97316","#22D3EE","#4ADE80","#A855F7"],data:d(y(u=>u[1],r)),label:"Kateg\xF3ri\xE1k"}],labels:o},options:n,type:"pie"};new e(globalThis.document.getElementById("category-chart"),i);let s=y(u=>[u[0],G(w=>w.txType=="Bev\xE9tel"?w.amount:-w.amount,u[1])],at(u=>u[0],_(u=>wt(u.date,0,7),t))),c=d(y(u=>u[0],s)),a={data:{datasets:[{backgroundColor:"#3B82F6",data:d(y(u=>u[1],s)),label:"Havi egyenleg"}],labels:c},options:n,type:"bar"};new e(globalThis.document.getElementById("monthly-chart"),a)}function nt(t){let e,n=new Blob(["\uFEFF"+mt(`
`,f.Cons("D\xE1tum,T\xEDpus,Kateg\xF3ria,\xD6sszeg,Le\xEDr\xE1s",y(i=>String(i.date)+","+String(i.txType)+","+String(i.category)+","+String(String(i.amount))+',"'+String(i.description)+'"',t)))],(e={},e.type="text/csv;charset=utf-8",e)),r=globalThis.URL.createObjectURL(n),o=globalThis.document.createElement("a");return o.href=r,o.download="riport.csv",o.click(),globalThis.URL.revokeObjectURL(r)}function R(){return U.storageKey}function g(t){throw new Error(t)}function x(t){return[t.K,t.V]}function rt(t){let e=[],n;for(var r in t)e.push(t[r]);return e}function m(t,e){if(t===e)return!0;{let o=typeof t;if(o=="object"){if(t==null||e===null||e===void 0||!m(typeof e,"object"))return!1;if("Equals"in t)return t.Equals(e);if("Equals"in e)return!1;if(t instanceof Array&&e instanceof Array)return K(t,e);if(t instanceof Date&&e instanceof Date)return ot(t,e);{let i=[!0],s;for(var n in t)if((c=>(i[0]=!t.hasOwnProperty(c)||e.hasOwnProperty(c)&&m(t[c],e[c]),!i[0]))(n))break;if(i[0]){let c;for(var r in e)if((a=>(i[0]=!e.hasOwnProperty(a)||t.hasOwnProperty(a),!i[0]))(r))break}return i[0]}}else return o=="function"&&("$Func"in t?t.$Func===e.$Func&&t.$Target===e.$Target:"$Invokes"in t&&"$Invokes"in e&&K(t.$Invokes,e.$Invokes))}}function K(t,e){let n,r;if(l(t)===l(e)){for(n=!0,r=0;n&&r<l(t);)m(h(t,r),h(e,r))||(n=!1),r=r+1;return n}else return!1}function ot(t,e){return t.getTime()===e.getTime()}function b(t,e){if(t===e)return 0;{let o=typeof t;switch(o=="function"?1:o=="boolean"||o=="number"||o=="string"?2:o=="object"?3:0){case 0:return typeof e>"u"?0:-1;case 1:return g("Cannot compare function values.");case 2:return t<e?-1:1;case 3:if(t===null)return-1;if(e===null)return 1;if("CompareTo"in t)return t.CompareTo(e);if("CompareTo0"in t)return t.CompareTo0(e);if(t instanceof Array&&e instanceof Array)return it(t,e);if(t instanceof Date&&e instanceof Date)return st(t,e);{let i=[0],s;for(var n in t)if((c=>t.hasOwnProperty(c)?e.hasOwnProperty(c)?(i[0]=b(t[c],e[c]),i[0]!==0):(i[0]=1,!0):!1)(n))break;if(i[0]===0){let c;for(var r in e)if((a=>e.hasOwnProperty(a)?!t.hasOwnProperty(a)&&(i[0]=-1,!0):!1)(r))break}return i[0]}break}}}function D(t){let e=typeof t;return e=="function"?0:e=="boolean"?t?1:0:e=="number"?t:e=="string"?M(t):e=="object"?t==null?0:t instanceof Array?ut(t):ct(t):0}function it(t,e){let n,r;if(l(t)<l(e))return-1;if(l(t)>l(e))return 1;for(n=0,r=0;n===0&&r<l(t);)n=b(h(t,r),h(e,r)),r=r+1;return n}function st(t,e){return b(t.getTime(),e.getTime())}function M(t){let e;if(t===null)return 0;e=5381;for(let n=0,r=t.length-1;n<=r;n++)e=T(e,t[n].charCodeAt());return e}function ut(t){let e=-34948909;for(let n=0,r=l(t)-1;n<=r;n++)e=T(e,D(h(t,n)));return e}function ct(t){if("GetHashCode"in t)return t.GetHashCode();{let n=[0],r;for(var e in t)if((o=>(n[0]=T(T(n[0],M(o)),D(t[o])),!1))(e))break;return n[0]}}function T(t,e){return(t<<5)+t+e}function $(t){let e=f.Empty;for(let n=l(t)-1,r=0;n>=r;n--)e=f.Cons(h(t,n),e);return e}function lt(t,e){let n,r,o;if(t.$==0)return e;if(e.$==0)return t;{let i=p(f,{$:1});for(n=i,r=t,o=!0;o;)if(n.$0=r.$0,r=r.$1,r.$==0)o=!1;else{let s=p(f,{$:1});n=(n.$1=s,s)}return n.$1=e,i}}function _(t,e){let n=$t(t,d(e));return P(r=>[r[0],$(r[1])],n),$(n)}function y(t,e){let n,r,o;if(e.$==0)return e;{let i=p(f,{$:1});for(n=i,r=e,o=!0;o;)if(n.$0=t(r.$0),r=r.$1,r.$==0)o=!1;else{let s=p(f,{$:1});n=(n.$1=s,s)}return n.$1=f.Empty,i}}function at(t,e){let n=d(e);return Ct(t,n),$(n)}function ft(t,e){return $(xt(t,e))}function ht(t,e){let n=e;for(;n.$==1;)t(V(n)),n=W(n)}function V(t){return t.$==1?t.$0:H()}function W(t){return t.$==1?t.$1:H()}function H(){return g("The input list was empty.")}function h(t,e){return pt(t,e),t[e]}function l(t){return t.dims===2?t.length*t.length:t.length}function pt(t,e){(e<0||e>=t.length)&&g("Index was outside the bounds of the array.")}function yt(t,e,n,r,o){return{amount:t,description:e,date:n,category:r,txType:o}}var E=class{Equals(e){return this===e}GetHashCode(){return-1}},f=class t{static Empty=p(t,{$:0});static Cons(e,n){return p(t,{$:1,$0:e,$1:n})}GetEnumerator(){return new v(this,null,e=>{let n=e.s;return n.$==0?!1:(e.c=n.$0,e.s=n.$1,!0)},void 0)}};function dt(t){return()=>e=>{let n=t();return ft(l(e),r=>n(h(e,r)))}}function z(){return()=>t=>t}function gt(t){return()=>e=>{let n=[],r=t();return ht(o=>{n.push(r(o))},e),n}}function G(t,e){let n=0,r=I(e);try{for(;r.MoveNext();)n=n+t(r.Current)}finally{typeof r=="object"&&N(r)&&r.Dispose()}return n}function mt(t,e){return J(e).join(t)}function wt(t,e,n){return t.substr(e,n)}var U=B(t=>class{static{U=t(this)}static storageKey;static{this.storageKey="transactions"}});function $t(t,e){let n=new F("New_5"),r=[];for(let o=0,i=l(e)-1;o<=i;o++){let s=e[o],c=t(s);n.ContainsKey(c)?n.Item(c).push(s):(r.push(c),n.DAdd(c,[s]))}return P(o=>[o,n.Item(o)],r),r}function P(t,e){for(let n=0,r=e.length-1;n<=r;n++)e[n]=t(e[n])}function vt(t,e){for(let n=0,r=e.length-1;n<=r;n++)e[n]=t(n,e[n]);return e}function d(t){let e=[],n=t;for(;n.$!=0;)e.push(V(n)),n=W(n);return e}function Ct(t,e){P(n=>n[0],vt((n,r)=>[r,[t(r),n]],e).sort((n,r)=>b(n[1],r[1])))}function xt(t,e){t<0&&g("Negative size given.");let n=new Array(t);for(let r=0,o=t-1;r<=o;r++)n[r]=e(r);return n}function J(t){if(t instanceof Array)return t.slice();if(t instanceof f)return d(t);{let e=[],n=I(t);try{for(;n.MoveNext();)e.push(n.Current);return e}finally{typeof n=="object"&&N(n)&&n.Dispose()}}}function j(t,e){let n=!1,r=0;for(;!n&&r<l(e);)t(e[r])?n=!0:r=r+1;return n}function Tt(t,e){let n=bt(t,e);return n==null?g("KeyNotFoundException"):n.$0}function Et(t,e){let n=null,r=0;for(;r<e.length&&n==null;)t(e[r])&&(n=Y(r)),r=r+1;return n}function bt(t,e){let n=null,r=0;for(;r<e.length&&n==null;){let o=t(e[r]);o!=null&&o.$==1&&(n=o),r=r+1}return n}function Ot(t){return Array.prototype.concat.apply([],J(t))}var F=class extends E{equals;hash;count;data;ContainsKey(e){let n=this.data[this.hash(e)];return n==null?!1:j(r=>this.equals.apply(null,[x(r)[0],e]),n)}Item(e){return this.get(e)}DAdd(e,n){this.add(e,n)}get(e){let n=this.data[this.hash(e)];return n==null?Ft():Tt(r=>{let o=x(r);return this.equals.apply(null,[o[0],e])?Y(o[1]):null},n)}add(e,n){let r=this.hash(e),o=this.data[r];o==null?(this.count=this.count+1,this.data[r]=new Array({K:e,V:n})):(j(i=>this.equals.apply(null,[x(i)[0],e]),o)&&St(),this.count=this.count+1,o.push({K:e,V:n}))}set(e,n){let r=this.hash(e),o=this.data[r];if(o==null)this.count=this.count+1,this.data[r]=new Array({K:e,V:n});else{let i=Et(s=>this.equals.apply(null,[x(s)[0],e]),o);i==null?(this.count=this.count+1,o.push({K:e,V:n})):o[i.$0]={K:e,V:n}}}GetEnumerator(){return At(Ot(rt(this.data)))}static New_5(){return new this("New_5")}static New_6(e,n,r){return new this("New_6",e,n,r)}constructor(e,n,r,o){if(e=="New_5"&&(e="New_6",n=[],r=m,o=D),e=="New_6"){let i=n,s=r,c=o;super(),this.equals=s,this.hash=c,this.count=0,this.data=[];let a=I(i);try{for(;a.MoveNext();){let u=a.Current;this.set(u.K,u.V)}}finally{typeof a=="object"&&N(a)&&a.Dispose()}}}};function Ft(){throw new S("New")}function St(){throw new A("New_2","An item with the same key has already been added.")}function I(t){return t instanceof Array?X(t):m(typeof t,"string")?Q(t):t.GetEnumerator()}function X(t){return new v(0,null,e=>{let n=e.s;return n<l(t)&&(e.c=h(t,n),e.s=n+1,!0)},void 0)}function Q(t){return new v(0,null,e=>{let n=e.s;return n<t.length&&(e.c=t[n],e.s=n+1,!0)},void 0)}function At(t){return t instanceof Array?X(t):m(typeof t,"string")?Q(t):"GetEnumerator0"in t?t.GetEnumerator0():t.GetEnumerator()}var v=class extends E{s;c;n;d;e;MoveNext(){let e=this.n(this);return this.e=e?1:2,e}get Current(){return this.e===1?this.c:this.e===0?g("Enumeration has not started. Call MoveNext."):g("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}constructor(e,n,r,o){super(),this.s=e,this.c=n,this.n=r,this.d=o,this.e=0}};function Y(t){return{$:1,$0:t}}var S=class extends Error{static New(){return new this("New")}static New_1(e){return new this("New_1",e)}constructor(e,n){if(e=="New"&&(e="New_1",n="The given key was not present in the dictionary."),e=="New_1"){let r=n;super(r)}}},A=class extends Error{static New_2(e){return new this("New_2",e)}constructor(e,n){if(e=="New_2"){let r=n;super(r)}}};q(()=>{tt()});L();})();
